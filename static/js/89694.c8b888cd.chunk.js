"use strict";(self.webpackChunkn2_land=self.webpackChunkn2_land||[]).push([[89694],{89694:(t,n,s)=>{s.r(n),s.d(n,{SplatSortWorkerInput:()=>r,SplatSortWorkerOutput:()=>e,destroy:()=>h,sort:()=>f});class r{constructor(t,n,s){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.distances=t,this.sortOrderIndices=n,this.numGaussians=s,this.preciseSort=r}}class e{constructor(t,n){this.distances=t,this.sortedOrderIndices=n}}let l=null,o=null;const a=10,i=20,u=.25;function c(t,n){const s=t.length,r=Math.max(a,Math.min(i,Math.round(Math.log2(s/u)))),e=1+(1<<r);!function(t,n){var s;(null===(s=l)||void 0===s?void 0:s.length)!==t&&(l=new Uint32Array(t)),o&&o.length===1+(1<<n)?o.fill(0):o=new Uint32Array(1+(1<<n))}(s,r);let c=t[0],f=t[0];for(let l=0;l<t.length;l++)c=Math.min(c,t[l]),f=Math.max(f,t[l]);const h=f-c;if(h<1e-6)for(let a=0;a<s;++a)l[a]=0,o[0]++;else{const n=(1<<r)/h;for(let r=0;r<s;r++){const s=(t[r]-c)*n>>>0;l[r]=s,o[s]++}}for(let l=1;l<e;l++)o[l]+=o[l-1];for(let a=0;a<s;a++){const t=l[a];n[--o[t]]=a}}async function f(t){const{distances:n,sortOrderIndices:s,preciseSort:r,numGaussians:l}=t,o=n.subarray(0,l),a=s.subarray(0,l);if(0===o.length||0===a.length)return{result:new e(n,s),transferList:[n.buffer,s.buffer]};if(r){const t=Array.from(a.keys());t.sort(((t,n)=>o[t]-o[n]||t-n));const n=t.map((t=>a[t]));a.set(n)}else c(o,a);return{result:new e(n,s),transferList:[n.buffer,s.buffer]}}function h(){l=null,o=null}}}]);
//# sourceMappingURL=89694.c8b888cd.chunk.js.map